{"ast":null,"code":"export const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onDOMContentLoaded);\n\n  const onDOMContentLoaded = () => {\n    const images = document.querySelectorAll(\"img.lazy\");\n    let throttleTimeout = \"\";\n\n    const lazyLoad = () => {\n      if (throttleTimeout) {\n        clearTimeout(throttleTimeout);\n      }\n    };\n\n    throttleTimeout = setTimeout(() => {\n      let scrollTop = window.pageYOffset;\n      images.forEach(image => {\n        if (image.offsetTop < window.innerHeight + scrollTop) {\n          image.src = image.dataset.src;\n          image.classList.remove(\"lazy\");\n        }\n      });\n\n      if (images.length === 0) {\n        document.removeEventListener(\"scroll\", lazyLoad);\n        window.removeEventListener(\"resize\", lazyLoad);\n        window.removeEventListener(\"orientationchange\", lazyLoad);\n      }\n    }, 20);\n    document.addEventListener(\"scroll\", lazyLoad);\n    window.addEventListener(\"resize\", lazyLoad);\n    window.addEventListener(\"orientationchange\", lazyLoad);\n    document.addEventListener(\"DOMContentLoaded\", functionName);\n  };\n}; //   document.addEventListener(\"DOMContentLoaded\", function () {\n//     var lazyloadImages = document.querySelectorAll(\"img.lazy\");\n//     var lazyloadThrottleTimeout;\n//     function lazyload() {\n//       if (lazyloadThrottleTimeout) {\n//         clearTimeout(lazyloadThrottleTimeout);\n//       }\n//       lazyloadThrottleTimeout = setTimeout(function () {\n//         var scrollTop = window.pageYOffset;\n//         lazyloadImages.forEach(function (img) {\n//           if (img.offsetTop < window.innerHeight + scrollTop) {\n//             img.src = img.dataset.src;\n//             img.classList.remove(\"lazy\");\n//           }\n//         });\n//         if (lazyloadImages.length === 0) {\n//           document.removeEventListener(\"scroll\", lazyload);\n//           window.removeEventListener(\"resize\", lazyload);\n//           window.removeEventListener(\"orientationChange\", lazyload);\n//         }\n//       }, 20);\n//     }\n//     document.addEventListener(\"scroll\", lazyload);\n//     window.addEventListener(\"resize\", lazyload);\n//     window.addEventListener(\"orientationChange\", lazyload);\n//   });\n// };","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["lazyLoad","document","addEventListener","onDOMContentLoaded","images","querySelectorAll","throttleTimeout","clearTimeout","setTimeout","scrollTop","window","pageYOffset","forEach","image","offsetTop","innerHeight","src","dataset","classList","remove","length","removeEventListener","functionName"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAM;AAC5BC,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8CC,kBAA9C;;AAEA,QAAMA,kBAAkB,GAAG,MAAM;AAC/B,UAAMC,MAAM,GAAGH,QAAQ,CAACI,gBAAT,CAA0B,UAA1B,CAAf;AACA,QAAIC,eAAe,GAAG,EAAtB;;AAEA,UAAMN,QAAQ,GAAG,MAAM;AACrB,UAAIM,eAAJ,EAAqB;AACnBC,QAAAA,YAAY,CAACD,eAAD,CAAZ;AACD;AACF,KAJD;;AAMAA,IAAAA,eAAe,GAAGE,UAAU,CAAC,MAAM;AACjC,UAAIC,SAAS,GAAGC,MAAM,CAACC,WAAvB;AACAP,MAAAA,MAAM,CAACQ,OAAP,CAAgBC,KAAD,IAAW;AACxB,YAAIA,KAAK,CAACC,SAAN,GAAkBJ,MAAM,CAACK,WAAP,GAAqBN,SAA3C,EAAsD;AACpDI,UAAAA,KAAK,CAACG,GAAN,GAAYH,KAAK,CAACI,OAAN,CAAcD,GAA1B;AACAH,UAAAA,KAAK,CAACK,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACD;AACF,OALD;;AAOA,UAAIf,MAAM,CAACgB,MAAP,KAAkB,CAAtB,EAAyB;AACvBnB,QAAAA,QAAQ,CAACoB,mBAAT,CAA6B,QAA7B,EAAuCrB,QAAvC;AACAU,QAAAA,MAAM,CAACW,mBAAP,CAA2B,QAA3B,EAAqCrB,QAArC;AACAU,QAAAA,MAAM,CAACW,mBAAP,CAA2B,mBAA3B,EAAgDrB,QAAhD;AACD;AACF,KAd2B,EAczB,EAdyB,CAA5B;AAgBAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoCF,QAApC;AACAU,IAAAA,MAAM,CAACR,gBAAP,CAAwB,QAAxB,EAAkCF,QAAlC;AACAU,IAAAA,MAAM,CAACR,gBAAP,CAAwB,mBAAxB,EAA6CF,QAA7C;AACAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8CoB,YAA9C;AACD,GA9BD;AA+BD,CAlCM,C,CAoCP;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA","sourcesContent":["export const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onDOMContentLoaded);\n\n  const onDOMContentLoaded = () => {\n    const images = document.querySelectorAll(\"img.lazy\");\n    let throttleTimeout = \"\";\n\n    const lazyLoad = () => {\n      if (throttleTimeout) {\n        clearTimeout(throttleTimeout);\n      }\n    };\n\n    throttleTimeout = setTimeout(() => {\n      let scrollTop = window.pageYOffset;\n      images.forEach((image) => {\n        if (image.offsetTop < window.innerHeight + scrollTop) {\n          image.src = image.dataset.src;\n          image.classList.remove(\"lazy\");\n        }\n      });\n\n      if (images.length === 0) {\n        document.removeEventListener(\"scroll\", lazyLoad);\n        window.removeEventListener(\"resize\", lazyLoad);\n        window.removeEventListener(\"orientationchange\", lazyLoad);\n      }\n    }, 20);\n\n    document.addEventListener(\"scroll\", lazyLoad);\n    window.addEventListener(\"resize\", lazyLoad);\n    window.addEventListener(\"orientationchange\", lazyLoad);\n    document.addEventListener(\"DOMContentLoaded\", functionName);\n  };\n};\n\n//   document.addEventListener(\"DOMContentLoaded\", function () {\n//     var lazyloadImages = document.querySelectorAll(\"img.lazy\");\n//     var lazyloadThrottleTimeout;\n\n//     function lazyload() {\n//       if (lazyloadThrottleTimeout) {\n//         clearTimeout(lazyloadThrottleTimeout);\n//       }\n\n//       lazyloadThrottleTimeout = setTimeout(function () {\n//         var scrollTop = window.pageYOffset;\n//         lazyloadImages.forEach(function (img) {\n//           if (img.offsetTop < window.innerHeight + scrollTop) {\n//             img.src = img.dataset.src;\n//             img.classList.remove(\"lazy\");\n//           }\n//         });\n//         if (lazyloadImages.length === 0) {\n//           document.removeEventListener(\"scroll\", lazyload);\n//           window.removeEventListener(\"resize\", lazyload);\n//           window.removeEventListener(\"orientationChange\", lazyload);\n//         }\n//       }, 20);\n//     }\n\n//     document.addEventListener(\"scroll\", lazyload);\n//     window.addEventListener(\"resize\", lazyload);\n//     window.addEventListener(\"orientationChange\", lazyload);\n//   });\n// };\n"]},"metadata":{},"sourceType":"module"}