{"ast":null,"code":"export const lazyLoad = () => {\n  const images = document.querySelectorAll(\"img.lazy\");\n  let throttleTimeout = \"\";\n\n  const lazyLoad = () => {\n    if (throttleTimeout) {\n      clearTimeout(throttleTimeout);\n    }\n  };\n\n  throttleTimeout = setTimeout(() => {\n    let scrollTop = window.pageYOffset;\n    images.forEach(image => {\n      if (image.offsetTop < window.innerHeight + scrollTop) {\n        image.src = image.dataset.src;\n        image.classList.remove(\"lazy\");\n      }\n    });\n\n    if (images.length === 0) {\n      document.removeEventListener(\"scroll\", lazyLoad);\n      window.removeEventListener(\"resize\", lazyLoad);\n      window.removeEventListener(\"orientationchange\", lazyLoad);\n    }\n  }, 20);\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    var lazyloadImages = document.querySelectorAll(\"img.lazy\");\n    var lazyloadThrottleTimeout;\n\n    function lazyload() {\n      if (lazyloadThrottleTimeout) {\n        clearTimeout(lazyloadThrottleTimeout);\n      }\n\n      lazyloadThrottleTimeout = setTimeout(function () {\n        var scrollTop = window.pageYOffset;\n        lazyloadImages.forEach(function (img) {\n          if (img.offsetTop < window.innerHeight + scrollTop) {\n            img.src = img.dataset.src;\n            img.classList.remove(\"lazy\");\n          }\n        });\n\n        if (lazyloadImages.length === 0) {\n          document.removeEventListener(\"scroll\", lazyload);\n          window.removeEventListener(\"resize\", lazyload);\n          window.removeEventListener(\"orientationChange\", lazyload);\n        }\n      }, 20);\n    }\n\n    document.addEventListener(\"scroll\", lazyload);\n    window.addEventListener(\"resize\", lazyload);\n    window.addEventListener(\"orientationChange\", lazyload);\n  });\n};","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["lazyLoad","images","document","querySelectorAll","throttleTimeout","clearTimeout","setTimeout","scrollTop","window","pageYOffset","forEach","image","offsetTop","innerHeight","src","dataset","classList","remove","length","removeEventListener","addEventListener","lazyloadImages","lazyloadThrottleTimeout","lazyload","img"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAM;AAC5B,QAAMC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAf;AACA,MAAIC,eAAe,GAAG,EAAtB;;AAEA,QAAMJ,QAAQ,GAAG,MAAM;AACrB,QAAII,eAAJ,EAAqB;AACnBC,MAAAA,YAAY,CAACD,eAAD,CAAZ;AACD;AACF,GAJD;;AAMAA,EAAAA,eAAe,GAAGE,UAAU,CAAC,MAAM;AACjC,QAAIC,SAAS,GAAGC,MAAM,CAACC,WAAvB;AACAR,IAAAA,MAAM,CAACS,OAAP,CAAgBC,KAAD,IAAW;AACxB,UAAIA,KAAK,CAACC,SAAN,GAAkBJ,MAAM,CAACK,WAAP,GAAqBN,SAA3C,EAAsD;AACpDI,QAAAA,KAAK,CAACG,GAAN,GAAYH,KAAK,CAACI,OAAN,CAAcD,GAA1B;AACAH,QAAAA,KAAK,CAACK,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACD;AACF,KALD;;AAOA,QAAIhB,MAAM,CAACiB,MAAP,KAAkB,CAAtB,EAAyB;AACvBhB,MAAAA,QAAQ,CAACiB,mBAAT,CAA6B,QAA7B,EAAuCnB,QAAvC;AACAQ,MAAAA,MAAM,CAACW,mBAAP,CAA2B,QAA3B,EAAqCnB,QAArC;AACAQ,MAAAA,MAAM,CAACW,mBAAP,CAA2B,mBAA3B,EAAgDnB,QAAhD;AACD;AACF,GAd2B,EAczB,EAdyB,CAA5B;AAgBAE,EAAAA,QAAQ,CAACkB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACxD,QAAIC,cAAc,GAAGnB,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAArB;AACA,QAAImB,uBAAJ;;AAEA,aAASC,QAAT,GAAoB;AAClB,UAAID,uBAAJ,EAA6B;AAC3BjB,QAAAA,YAAY,CAACiB,uBAAD,CAAZ;AACD;;AAEDA,MAAAA,uBAAuB,GAAGhB,UAAU,CAAC,YAAY;AAC/C,YAAIC,SAAS,GAAGC,MAAM,CAACC,WAAvB;AACAY,QAAAA,cAAc,CAACX,OAAf,CAAuB,UAAUc,GAAV,EAAe;AACpC,cAAIA,GAAG,CAACZ,SAAJ,GAAgBJ,MAAM,CAACK,WAAP,GAAqBN,SAAzC,EAAoD;AAClDiB,YAAAA,GAAG,CAACV,GAAJ,GAAUU,GAAG,CAACT,OAAJ,CAAYD,GAAtB;AACAU,YAAAA,GAAG,CAACR,SAAJ,CAAcC,MAAd,CAAqB,MAArB;AACD;AACF,SALD;;AAMA,YAAII,cAAc,CAACH,MAAf,KAA0B,CAA9B,EAAiC;AAC/BhB,UAAAA,QAAQ,CAACiB,mBAAT,CAA6B,QAA7B,EAAuCI,QAAvC;AACAf,UAAAA,MAAM,CAACW,mBAAP,CAA2B,QAA3B,EAAqCI,QAArC;AACAf,UAAAA,MAAM,CAACW,mBAAP,CAA2B,mBAA3B,EAAgDI,QAAhD;AACD;AACF,OAbmC,EAajC,EAbiC,CAApC;AAcD;;AAEDrB,IAAAA,QAAQ,CAACkB,gBAAT,CAA0B,QAA1B,EAAoCG,QAApC;AACAf,IAAAA,MAAM,CAACY,gBAAP,CAAwB,QAAxB,EAAkCG,QAAlC;AACAf,IAAAA,MAAM,CAACY,gBAAP,CAAwB,mBAAxB,EAA6CG,QAA7C;AACD,GA5BD;AA6BD,CAvDM","sourcesContent":["export const lazyLoad = () => {\n  const images = document.querySelectorAll(\"img.lazy\");\n  let throttleTimeout = \"\";\n\n  const lazyLoad = () => {\n    if (throttleTimeout) {\n      clearTimeout(throttleTimeout);\n    }\n  };\n\n  throttleTimeout = setTimeout(() => {\n    let scrollTop = window.pageYOffset;\n    images.forEach((image) => {\n      if (image.offsetTop < window.innerHeight + scrollTop) {\n        image.src = image.dataset.src;\n        image.classList.remove(\"lazy\");\n      }\n    });\n\n    if (images.length === 0) {\n      document.removeEventListener(\"scroll\", lazyLoad);\n      window.removeEventListener(\"resize\", lazyLoad);\n      window.removeEventListener(\"orientationchange\", lazyLoad);\n    }\n  }, 20);\n\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    var lazyloadImages = document.querySelectorAll(\"img.lazy\");\n    var lazyloadThrottleTimeout;\n\n    function lazyload() {\n      if (lazyloadThrottleTimeout) {\n        clearTimeout(lazyloadThrottleTimeout);\n      }\n\n      lazyloadThrottleTimeout = setTimeout(function () {\n        var scrollTop = window.pageYOffset;\n        lazyloadImages.forEach(function (img) {\n          if (img.offsetTop < window.innerHeight + scrollTop) {\n            img.src = img.dataset.src;\n            img.classList.remove(\"lazy\");\n          }\n        });\n        if (lazyloadImages.length === 0) {\n          document.removeEventListener(\"scroll\", lazyload);\n          window.removeEventListener(\"resize\", lazyload);\n          window.removeEventListener(\"orientationChange\", lazyload);\n        }\n      }, 20);\n    }\n\n    document.addEventListener(\"scroll\", lazyload);\n    window.addEventListener(\"resize\", lazyload);\n    window.addEventListener(\"orientationChange\", lazyload);\n  });\n};\n"]},"metadata":{},"sourceType":"module"}