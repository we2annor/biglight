{"ast":null,"code":"export const lazyLoad = () => {\n  console.log(\"doc\", document.querySelectorAll(\"img\"), window);\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    var lazyloadImages = document.querySelectorAll(\"img.lazy\");\n    console.log(\"number of images\", lazyloadImages.length, document);\n    var lazyloadThrottleTimeout;\n\n    function lazyload() {\n      if (lazyloadThrottleTimeout) {\n        clearTimeout(lazyloadThrottleTimeout);\n      }\n\n      lazyloadThrottleTimeout = setTimeout(function () {\n        var scrollTop = window.pageYOffset;\n        lazyloadImages.forEach(function (img) {\n          if (img.offsetTop < window.innerHeight + scrollTop) {\n            img.src = img.dataset.src;\n            img.classList.remove(\"lazy\");\n          }\n        });\n\n        if (lazyloadImages.length === 0) {\n          document.removeEventListener(\"scroll\", lazyload);\n          window.removeEventListener(\"resize\", lazyload);\n          window.removeEventListener(\"orientationChange\", lazyload);\n        }\n      }, 20);\n    }\n\n    document.addEventListener(\"scroll\", lazyload);\n    window.addEventListener(\"resize\", lazyload);\n    window.addEventListener(\"orientationChange\", lazyload);\n  });\n};","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["lazyLoad","console","log","document","querySelectorAll","window","addEventListener","lazyloadImages","length","lazyloadThrottleTimeout","lazyload","clearTimeout","setTimeout","scrollTop","pageYOffset","forEach","img","offsetTop","innerHeight","src","dataset","classList","remove","removeEventListener"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAM;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBC,QAAQ,CAACC,gBAAT,CAA0B,KAA1B,CAAnB,EAAqDC,MAArD;AACAF,EAAAA,QAAQ,CAACG,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACxD,QAAIC,cAAc,GAAGJ,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAArB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCK,cAAc,CAACC,MAA/C,EAAuDL,QAAvD;AACA,QAAIM,uBAAJ;;AAEA,aAASC,QAAT,GAAoB;AAClB,UAAID,uBAAJ,EAA6B;AAC3BE,QAAAA,YAAY,CAACF,uBAAD,CAAZ;AACD;;AAEDA,MAAAA,uBAAuB,GAAGG,UAAU,CAAC,YAAY;AAC/C,YAAIC,SAAS,GAAGR,MAAM,CAACS,WAAvB;AACAP,QAAAA,cAAc,CAACQ,OAAf,CAAuB,UAAUC,GAAV,EAAe;AACpC,cAAIA,GAAG,CAACC,SAAJ,GAAgBZ,MAAM,CAACa,WAAP,GAAqBL,SAAzC,EAAoD;AAClDG,YAAAA,GAAG,CAACG,GAAJ,GAAUH,GAAG,CAACI,OAAJ,CAAYD,GAAtB;AACAH,YAAAA,GAAG,CAACK,SAAJ,CAAcC,MAAd,CAAqB,MAArB;AACD;AACF,SALD;;AAMA,YAAIf,cAAc,CAACC,MAAf,KAA0B,CAA9B,EAAiC;AAC/BL,UAAAA,QAAQ,CAACoB,mBAAT,CAA6B,QAA7B,EAAuCb,QAAvC;AACAL,UAAAA,MAAM,CAACkB,mBAAP,CAA2B,QAA3B,EAAqCb,QAArC;AACAL,UAAAA,MAAM,CAACkB,mBAAP,CAA2B,mBAA3B,EAAgDb,QAAhD;AACD;AACF,OAbmC,EAajC,EAbiC,CAApC;AAcD;;AAEDP,IAAAA,QAAQ,CAACG,gBAAT,CAA0B,QAA1B,EAAoCI,QAApC;AACAL,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCI,QAAlC;AACAL,IAAAA,MAAM,CAACC,gBAAP,CAAwB,mBAAxB,EAA6CI,QAA7C;AACD,GA7BD;AA8BD,CAhCM","sourcesContent":["export const lazyLoad = () => {\n  console.log(\"doc\", document.querySelectorAll(\"img\"), window);\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    var lazyloadImages = document.querySelectorAll(\"img.lazy\");\n    console.log(\"number of images\", lazyloadImages.length, document);\n    var lazyloadThrottleTimeout;\n\n    function lazyload() {\n      if (lazyloadThrottleTimeout) {\n        clearTimeout(lazyloadThrottleTimeout);\n      }\n\n      lazyloadThrottleTimeout = setTimeout(function () {\n        var scrollTop = window.pageYOffset;\n        lazyloadImages.forEach(function (img) {\n          if (img.offsetTop < window.innerHeight + scrollTop) {\n            img.src = img.dataset.src;\n            img.classList.remove(\"lazy\");\n          }\n        });\n        if (lazyloadImages.length === 0) {\n          document.removeEventListener(\"scroll\", lazyload);\n          window.removeEventListener(\"resize\", lazyload);\n          window.removeEventListener(\"orientationChange\", lazyload);\n        }\n      }, 20);\n    }\n\n    document.addEventListener(\"scroll\", lazyload);\n    window.addEventListener(\"resize\", lazyload);\n    window.addEventListener(\"orientationChange\", lazyload);\n  });\n};\n"]},"metadata":{},"sourceType":"module"}