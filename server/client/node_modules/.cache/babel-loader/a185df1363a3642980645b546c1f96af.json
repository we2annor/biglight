{"ast":null,"code":"const images = document.querySelectorAll(\"img.lazy\");\nconst scrollTop = window.pageYOffset;\nconst windowHeight = window.innerHeight;\nconst throttleTimeout = setTimeout(() => {\n  images.forEach(image => {\n    if (image.offsetTop < windowHeight + scrollTop) {\n      image.src = image.dataset.src;\n      image.classList.remove(\"lazy\");\n    }\n  });\n}, 20);\n\nconst lazy = () => {\n  if (throttleTimeout) {\n    clearTimeout(throttleTimeout);\n  }\n};\n\nconst onDOMContentLoad = () => {\n  document.addEventListener(\"scroll\", lazy);\n  window.addEventListener(\"resize\", lazy);\n  window.addEventListener(\"orientationchange\", lazy);\n};\n\nexport const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onDOMContentLoad);\n};","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["images","document","querySelectorAll","scrollTop","window","pageYOffset","windowHeight","innerHeight","throttleTimeout","setTimeout","forEach","image","offsetTop","src","dataset","classList","remove","lazy","clearTimeout","onDOMContentLoad","addEventListener","lazyLoad"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAf;AACA,MAAMC,SAAS,GAAGC,MAAM,CAACC,WAAzB;AACA,MAAMC,YAAY,GAAGF,MAAM,CAACG,WAA5B;AAEA,MAAMC,eAAe,GAAGC,UAAU,CAAC,MAAM;AACvCT,EAAAA,MAAM,CAACU,OAAP,CAAgBC,KAAD,IAAW;AACxB,QAAIA,KAAK,CAACC,SAAN,GAAkBN,YAAY,GAAGH,SAArC,EAAgD;AAC9CQ,MAAAA,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACG,OAAN,CAAcD,GAA1B;AACAF,MAAAA,KAAK,CAACI,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACD;AACF,GALD;AAMD,CAPiC,EAO/B,EAP+B,CAAlC;;AASA,MAAMC,IAAI,GAAG,MAAM;AACjB,MAAIT,eAAJ,EAAqB;AACnBU,IAAAA,YAAY,CAACV,eAAD,CAAZ;AACD;AACF,CAJD;;AAMA,MAAMW,gBAAgB,GAAG,MAAM;AAC7BlB,EAAAA,QAAQ,CAACmB,gBAAT,CAA0B,QAA1B,EAAoCH,IAApC;AACAb,EAAAA,MAAM,CAACgB,gBAAP,CAAwB,QAAxB,EAAkCH,IAAlC;AACAb,EAAAA,MAAM,CAACgB,gBAAP,CAAwB,mBAAxB,EAA6CH,IAA7C;AACD,CAJD;;AAMA,OAAO,MAAMI,QAAQ,GAAG,MAAM;AAC5BpB,EAAAA,QAAQ,CAACmB,gBAAT,CAA0B,kBAA1B,EAA8CD,gBAA9C;AACD,CAFM","sourcesContent":["const images = document.querySelectorAll(\"img.lazy\");\nconst scrollTop = window.pageYOffset;\nconst windowHeight = window.innerHeight;\n\nconst throttleTimeout = setTimeout(() => {\n  images.forEach((image) => {\n    if (image.offsetTop < windowHeight + scrollTop) {\n      image.src = image.dataset.src;\n      image.classList.remove(\"lazy\");\n    }\n  });\n}, 20);\n\nconst lazy = () => {\n  if (throttleTimeout) {\n    clearTimeout(throttleTimeout);\n  }\n};\n\nconst onDOMContentLoad = () => {\n  document.addEventListener(\"scroll\", lazy);\n  window.addEventListener(\"resize\", lazy);\n  window.addEventListener(\"orientationchange\", lazy);\n};\n\nexport const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onDOMContentLoad);\n};\n"]},"metadata":{},"sourceType":"module"}