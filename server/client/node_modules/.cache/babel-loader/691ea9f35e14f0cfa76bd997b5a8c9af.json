{"ast":null,"code":"export const lazyLoad = () => {\n  const images = document.querySelectorAll(\"img.lazy\");\n  const scrollTop = window.pageYOffset;\n  const windowHeight = window.innerHeight;\n  const throttleTimeout = setTimeout(() => {\n    console.log(\"img\", images);\n    images.forEach(image => {\n      if (image.offsetTop < windowHeight + scrollTop) {\n        image.src = image.dataset.src;\n        image.classList.remove(\"lazy\");\n      }\n    });\n  }, 20);\n\n  const lazyLoad = () => {\n    console.log(\"lazy loading\", throttleTimeout);\n\n    if (throttleTimeout) {\n      clearTimeout(throttleTimeout);\n    }\n  };\n\n  const onDOMContentLoad = () => {\n    document.addEventListener(\"scroll\", lazyLoad);\n    window.addEventListener(\"resize\", lazyLoad);\n    window.addEventListener(\"orientationchange\", lazyLoad);\n  };\n\n  document.addEventListener(\"DOMContentLoaded\", onDOMContentLoad);\n  console.log(\"images bottom\", images.length);\n};","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["lazyLoad","images","document","querySelectorAll","scrollTop","window","pageYOffset","windowHeight","innerHeight","throttleTimeout","setTimeout","console","log","forEach","image","offsetTop","src","dataset","classList","remove","clearTimeout","onDOMContentLoad","addEventListener","length"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAM;AAC5B,QAAMC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAf;AACA,QAAMC,SAAS,GAAGC,MAAM,CAACC,WAAzB;AACA,QAAMC,YAAY,GAAGF,MAAM,CAACG,WAA5B;AAEA,QAAMC,eAAe,GAAGC,UAAU,CAAC,MAAM;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBX,MAAnB;AACAA,IAAAA,MAAM,CAACY,OAAP,CAAgBC,KAAD,IAAW;AACxB,UAAIA,KAAK,CAACC,SAAN,GAAkBR,YAAY,GAAGH,SAArC,EAAgD;AAC9CU,QAAAA,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACG,OAAN,CAAcD,GAA1B;AACAF,QAAAA,KAAK,CAACI,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACD;AACF,KALD;AAMD,GARiC,EAQ/B,EAR+B,CAAlC;;AAUA,QAAMnB,QAAQ,GAAG,MAAM;AACrBW,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,eAA5B;;AACA,QAAIA,eAAJ,EAAqB;AACnBW,MAAAA,YAAY,CAACX,eAAD,CAAZ;AACD;AACF,GALD;;AAOA,QAAMY,gBAAgB,GAAG,MAAM;AAC7BnB,IAAAA,QAAQ,CAACoB,gBAAT,CAA0B,QAA1B,EAAoCtB,QAApC;AACAK,IAAAA,MAAM,CAACiB,gBAAP,CAAwB,QAAxB,EAAkCtB,QAAlC;AACAK,IAAAA,MAAM,CAACiB,gBAAP,CAAwB,mBAAxB,EAA6CtB,QAA7C;AACD,GAJD;;AAMAE,EAAAA,QAAQ,CAACoB,gBAAT,CAA0B,kBAA1B,EAA8CD,gBAA9C;AACAV,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BX,MAAM,CAACsB,MAApC;AACD,CA9BM","sourcesContent":["export const lazyLoad = () => {\n  const images = document.querySelectorAll(\"img.lazy\");\n  const scrollTop = window.pageYOffset;\n  const windowHeight = window.innerHeight;\n\n  const throttleTimeout = setTimeout(() => {\n    console.log(\"img\", images);\n    images.forEach((image) => {\n      if (image.offsetTop < windowHeight + scrollTop) {\n        image.src = image.dataset.src;\n        image.classList.remove(\"lazy\");\n      }\n    });\n  }, 20);\n\n  const lazyLoad = () => {\n    console.log(\"lazy loading\", throttleTimeout);\n    if (throttleTimeout) {\n      clearTimeout(throttleTimeout);\n    }\n  };\n\n  const onDOMContentLoad = () => {\n    document.addEventListener(\"scroll\", lazyLoad);\n    window.addEventListener(\"resize\", lazyLoad);\n    window.addEventListener(\"orientationchange\", lazyLoad);\n  };\n\n  document.addEventListener(\"DOMContentLoaded\", onDOMContentLoad);\n  console.log(\"images bottom\", images.length);\n};\n"]},"metadata":{},"sourceType":"module"}