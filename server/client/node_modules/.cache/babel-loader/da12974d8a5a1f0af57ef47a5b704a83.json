{"ast":null,"code":"const images = document.querySelectorAll(\"img.lazy\");\nconst scrollTop = window.pageYOffset;\nconst windowHeight = window.innerHeight;\nconst throttleTimeout = setTimeout(() => {\n  images.forEach(image => {\n    console.log(image);\n\n    if (image.offsetTop < windowHeight + scrollTop) {\n      image.src = image.dataset.src;\n      image.classList.remove(\"lazy\");\n    }\n  });\n}, 300);\n\nconst load = () => {\n  console.log(\"lazy\", throttleTimeout);\n\n  if (throttleTimeout) {\n    clearTimeout(throttleTimeout);\n  }\n};\n\nconst onContentLoad = () => {\n  throttleTimeout();\n  document.addEventListener(\"scroll\", load);\n  window.addEventListener(\"resize\", load);\n  window.addEventListener(\"orientationchange\", load);\n};\n\nexport const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onContentLoad);\n};","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["images","document","querySelectorAll","scrollTop","window","pageYOffset","windowHeight","innerHeight","throttleTimeout","setTimeout","forEach","image","console","log","offsetTop","src","dataset","classList","remove","load","clearTimeout","onContentLoad","addEventListener","lazyLoad"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAf;AACA,MAAMC,SAAS,GAAGC,MAAM,CAACC,WAAzB;AACA,MAAMC,YAAY,GAAGF,MAAM,CAACG,WAA5B;AAEA,MAAMC,eAAe,GAAGC,UAAU,CAAC,MAAM;AACvCT,EAAAA,MAAM,CAACU,OAAP,CAAgBC,KAAD,IAAW;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,QAAIA,KAAK,CAACG,SAAN,GAAkBR,YAAY,GAAGH,SAArC,EAAgD;AAC9CQ,MAAAA,KAAK,CAACI,GAAN,GAAYJ,KAAK,CAACK,OAAN,CAAcD,GAA1B;AACAJ,MAAAA,KAAK,CAACM,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACD;AACF,GAND;AAOD,CARiC,EAQ/B,GAR+B,CAAlC;;AAUA,MAAMC,IAAI,GAAG,MAAM;AACjBP,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBL,eAApB;;AACA,MAAIA,eAAJ,EAAqB;AACnBY,IAAAA,YAAY,CAACZ,eAAD,CAAZ;AACD;AACF,CALD;;AAOA,MAAMa,aAAa,GAAG,MAAM;AAC1Bb,EAAAA,eAAe;AACfP,EAAAA,QAAQ,CAACqB,gBAAT,CAA0B,QAA1B,EAAoCH,IAApC;AACAf,EAAAA,MAAM,CAACkB,gBAAP,CAAwB,QAAxB,EAAkCH,IAAlC;AACAf,EAAAA,MAAM,CAACkB,gBAAP,CAAwB,mBAAxB,EAA6CH,IAA7C;AACD,CALD;;AAOA,OAAO,MAAMI,QAAQ,GAAG,MAAM;AAC5BtB,EAAAA,QAAQ,CAACqB,gBAAT,CAA0B,kBAA1B,EAA8CD,aAA9C;AACD,CAFM","sourcesContent":["const images = document.querySelectorAll(\"img.lazy\");\nconst scrollTop = window.pageYOffset;\nconst windowHeight = window.innerHeight;\n\nconst throttleTimeout = setTimeout(() => {\n  images.forEach((image) => {\n    console.log(image);\n    if (image.offsetTop < windowHeight + scrollTop) {\n      image.src = image.dataset.src;\n      image.classList.remove(\"lazy\");\n    }\n  });\n}, 300);\n\nconst load = () => {\n  console.log(\"lazy\", throttleTimeout);\n  if (throttleTimeout) {\n    clearTimeout(throttleTimeout);\n  }\n};\n\nconst onContentLoad = () => {\n  throttleTimeout();\n  document.addEventListener(\"scroll\", load);\n  window.addEventListener(\"resize\", load);\n  window.addEventListener(\"orientationchange\", load);\n};\n\nexport const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onContentLoad);\n};\n"]},"metadata":{},"sourceType":"module"}