{"ast":null,"code":"const onDomLoaded = () => {\n  const images = document.querySelectorAll(\".lazy\");\n\n  const timeOut = () => {\n    var scrollTop = window.pageYOffset;\n    images.forEach(function (img) {\n      if (img.offsetTop < window.innerHeight + scrollTop) {\n        img.src = img.dataset.src;\n        img.classList.remove(\"lazy\");\n      }\n    });\n\n    if (images.length === 0) {\n      document.removeEventListener(\"scroll\", lazyload);\n      window.removeEventListener(\"resize\", lazyload);\n      window.removeEventListener(\"orientationChange\", lazyload);\n    }\n  };\n\n  if (\"IntersectionObserver\" in window) {\n    const imageObserver = new IntersectionObserver(function (entries, observer) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var image = entry.target;\n          image.src = image.dataset.src;\n          image.classList.remove(\"lazy\");\n          imageObserver.unobserve(image);\n        }\n      });\n    });\n    images.forEach(function (image) {\n      imageObserver.observe(image);\n    });\n  } else {\n    let throttleTimeout;\n\n    function lazyload() {\n      if (throttleTimeout) {\n        clearTimeout(throttleTimeout);\n      }\n\n      throttleTimeout = setTimeout(timeOut(), 20);\n    }\n\n    document.addEventListener(\"scroll\", lazyload);\n    window.addEventListener(\"resize\", lazyload);\n    window.addEventListener(\"orientationChange\", lazyload);\n  }\n};\n\nexport const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onDomLoaded());\n};","map":{"version":3,"sources":["/Users/ernest/Desktop/biglight/server/client/src/util/lazy.js"],"names":["onDomLoaded","images","document","querySelectorAll","timeOut","scrollTop","window","pageYOffset","forEach","img","offsetTop","innerHeight","src","dataset","classList","remove","length","removeEventListener","lazyload","imageObserver","IntersectionObserver","entries","observer","entry","isIntersecting","image","target","unobserve","observe","throttleTimeout","clearTimeout","setTimeout","addEventListener","lazyLoad"],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAM;AACxB,QAAMC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAf;;AAEA,QAAMC,OAAO,GAAG,MAAM;AACpB,QAAIC,SAAS,GAAGC,MAAM,CAACC,WAAvB;AACAN,IAAAA,MAAM,CAACO,OAAP,CAAe,UAAUC,GAAV,EAAe;AAC5B,UAAIA,GAAG,CAACC,SAAJ,GAAgBJ,MAAM,CAACK,WAAP,GAAqBN,SAAzC,EAAoD;AAClDI,QAAAA,GAAG,CAACG,GAAJ,GAAUH,GAAG,CAACI,OAAJ,CAAYD,GAAtB;AACAH,QAAAA,GAAG,CAACK,SAAJ,CAAcC,MAAd,CAAqB,MAArB;AACD;AACF,KALD;;AAMA,QAAId,MAAM,CAACe,MAAP,KAAkB,CAAtB,EAAyB;AACvBd,MAAAA,QAAQ,CAACe,mBAAT,CAA6B,QAA7B,EAAuCC,QAAvC;AACAZ,MAAAA,MAAM,CAACW,mBAAP,CAA2B,QAA3B,EAAqCC,QAArC;AACAZ,MAAAA,MAAM,CAACW,mBAAP,CAA2B,mBAA3B,EAAgDC,QAAhD;AACD;AACF,GAbD;;AAeA,MAAI,0BAA0BZ,MAA9B,EAAsC;AACpC,UAAMa,aAAa,GAAG,IAAIC,oBAAJ,CAAyB,UAC7CC,OAD6C,EAE7CC,QAF6C,EAG7C;AACAD,MAAAA,OAAO,CAACb,OAAR,CAAgB,UAAUe,KAAV,EAAiB;AAC/B,YAAIA,KAAK,CAACC,cAAV,EAA0B;AACxB,cAAIC,KAAK,GAAGF,KAAK,CAACG,MAAlB;AACAD,UAAAA,KAAK,CAACb,GAAN,GAAYa,KAAK,CAACZ,OAAN,CAAcD,GAA1B;AACAa,UAAAA,KAAK,CAACX,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACAI,UAAAA,aAAa,CAACQ,SAAd,CAAwBF,KAAxB;AACD;AACF,OAPD;AAQD,KAZqB,CAAtB;AAcAxB,IAAAA,MAAM,CAACO,OAAP,CAAe,UAAUiB,KAAV,EAAiB;AAC9BN,MAAAA,aAAa,CAACS,OAAd,CAAsBH,KAAtB;AACD,KAFD;AAGD,GAlBD,MAkBO;AACL,QAAII,eAAJ;;AAEA,aAASX,QAAT,GAAoB;AAClB,UAAIW,eAAJ,EAAqB;AACnBC,QAAAA,YAAY,CAACD,eAAD,CAAZ;AACD;;AAEDA,MAAAA,eAAe,GAAGE,UAAU,CAAC3B,OAAO,EAAR,EAAY,EAAZ,CAA5B;AACD;;AAEDF,IAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,QAA1B,EAAoCd,QAApC;AACAZ,IAAAA,MAAM,CAAC0B,gBAAP,CAAwB,QAAxB,EAAkCd,QAAlC;AACAZ,IAAAA,MAAM,CAAC0B,gBAAP,CAAwB,mBAAxB,EAA6Cd,QAA7C;AACD;AACF,CAnDD;;AAqDA,OAAO,MAAMe,QAAQ,GAAG,MAAM;AAC5B/B,EAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,kBAA1B,EAA8ChC,WAAW,EAAzD;AACD,CAFM","sourcesContent":["const onDomLoaded = () => {\n  const images = document.querySelectorAll(\".lazy\");\n\n  const timeOut = () => {\n    var scrollTop = window.pageYOffset;\n    images.forEach(function (img) {\n      if (img.offsetTop < window.innerHeight + scrollTop) {\n        img.src = img.dataset.src;\n        img.classList.remove(\"lazy\");\n      }\n    });\n    if (images.length === 0) {\n      document.removeEventListener(\"scroll\", lazyload);\n      window.removeEventListener(\"resize\", lazyload);\n      window.removeEventListener(\"orientationChange\", lazyload);\n    }\n  };\n\n  if (\"IntersectionObserver\" in window) {\n    const imageObserver = new IntersectionObserver(function (\n      entries,\n      observer\n    ) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var image = entry.target;\n          image.src = image.dataset.src;\n          image.classList.remove(\"lazy\");\n          imageObserver.unobserve(image);\n        }\n      });\n    });\n\n    images.forEach(function (image) {\n      imageObserver.observe(image);\n    });\n  } else {\n    let throttleTimeout;\n\n    function lazyload() {\n      if (throttleTimeout) {\n        clearTimeout(throttleTimeout);\n      }\n\n      throttleTimeout = setTimeout(timeOut(), 20);\n    }\n\n    document.addEventListener(\"scroll\", lazyload);\n    window.addEventListener(\"resize\", lazyload);\n    window.addEventListener(\"orientationChange\", lazyload);\n  }\n};\n\nexport const lazyLoad = () => {\n  document.addEventListener(\"DOMContentLoaded\", onDomLoaded());\n};\n"]},"metadata":{},"sourceType":"module"}